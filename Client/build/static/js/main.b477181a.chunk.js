(this["webpackJsonpfileshare-app"]=this["webpackJsonpfileshare-app"]||[]).push([[0],{39:function(e,t,a){e.exports=a(75)},45:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),s=a.n(l),o=a(37),c=a(6),m=a(76),i=(a(44),a(45),a(14)),u=a(15),h=a(17),d=a(16),E=a(84),p=a(77),f=a(78),g=a(79),v=a(80),w=a(81),U=a(82),y=a(83),b=a(12),A=a.n(b),k=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={users:[],newUserModal:!1,newUserData:{name:"",lastname:"",email:"",username:""}},e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){var e=this;A.a.get("/user-api/users").then((function(t){e.setState({users:t.data})})).catch((function(e){console.log(e.response),alert("Error - "+e.response.data.error)}))}},{key:"_RefreshUsers",value:function(){var e=this;A.a.get("/user-api/users").then((function(t){e.setState({users:t.data})})).catch((function(e){console.log(e.response),alert("Error - "+e.response.data.error)}))}},{key:"AddUser",value:function(){var e=this;A.a.post("/user-api/user",this.state.newUserData).then((function(t){var a=e.state.users;a.push(t.data),e.setState({users:a,newUserModal:!1,newUserData:{name:"",lastname:"",email:"",username:""}}),console.log(t.data)})).catch((function(e){console.log(e.response),alert("Error - "+e.response.data.error)}))}},{key:"toggleNewUserModal",value:function(){this.setState({newUserModal:!this.state.newUserModal})}},{key:"DeleteUser",value:function(e){var t=this;A.a.delete("/user-api/user/"+e).then((function(e){console.log(e),t._RefreshUsers()})).catch((function(e){console.log(e.response),alert("Error - "+e.response.data.error)}))}},{key:"render",value:function(){var e=this,t=this.state.users.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,r.a.createElement("a",{href:"/user/".concat(t.username,"/attachments")},t.username)),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.lastname),r.a.createElement("td",null,t.email),r.a.createElement("td",null," ",r.a.createElement(m.a,{color:"primary",onClick:e.DeleteUser.bind(e,t.id)},"X")))}));return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{color:"primary",onClick:this.toggleNewUserModal.bind(this)},"Add User"),r.a.createElement("a",{href:"/"},r.a.createElement(m.a,{color:"secondary"},"Home")),r.a.createElement(E.a,{isOpen:this.state.newUserModal,toggle:this.toggleNewUserModal.bind(this)},r.a.createElement(p.a,{toggle:this.toggleNewUserModal.bind(this)},"Create new user"),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(v.a,{for:"name"},"First Name"),r.a.createElement(w.a,{type:"text",name:"firstname",id:"firstname",value:this.state.newUserData.name,placeholder:"First Name",onChange:function(t){var a=e.state.newUserData;a.name=t.target.value,e.setState({newUserData:a})}})),r.a.createElement(g.a,null,r.a.createElement(v.a,{for:"lastname"},"Last Name"),r.a.createElement(w.a,{type:"text",name:"lastname",id:"lastname",placeholder:"Last Name",value:this.state.newUserData.lastname,onChange:function(t){var a=e.state.newUserData;a.lastname=t.target.value,e.setState({newUserData:a})}})),r.a.createElement(g.a,null,r.a.createElement(v.a,{for:"email"},"Email"),r.a.createElement(w.a,{type:"email",name:"email",id:"email",placeholder:"Email",value:this.state.newUserData.email,onChange:function(t){var a=e.state.newUserData;a.email=t.target.value,e.setState({newUserData:a})}})),r.a.createElement(g.a,null,r.a.createElement(v.a,{for:"username"},"Username"),r.a.createElement(w.a,{type:"text",name:"username",id:"username",placeholder:"Username",value:this.state.newUserData.username,onChange:function(t){var a=e.state.newUserData;a.username=t.target.value,e.setState({newUserData:a})}}))),r.a.createElement(U.a,null,r.a.createElement(m.a,{color:"primary",onClick:this.AddUser.bind(this)},"Create User")," ",r.a.createElement(m.a,{color:"secondary",onClick:this.toggleNewUserModal.bind(this)},"Cancel"))),r.a.createElement(y.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"FirstName"),r.a.createElement("th",null,"LastName"),r.a.createElement("th",null,"Email"))),r.a.createElement("tbody",null,t.length?t:r.a.createElement("div",null,r.a.createElement("tr",null,r.a.createElement("td",{colspan:4},"No Users found!"))))))}}]),a}(n.Component),M=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={attachments:[],newAttachmentModal:!1,user:{}},e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){var e=this;A.a.get("/user-api/username/"+this.props.match.params.username).then((function(t){e.setState({user:t.data})})).catch((function(e){console.log(e.response),alert("Error - "+e.response.data.error)})),A.a.get("/user-files/attachments/"+this.props.match.params.username).then((function(t){e.setState({attachments:t.data})})).catch((function(e){console.log(e.response),alert("Error - "+e.response.data.error)}))}},{key:"toggleNewAttachmentModal",value:function(){this.setState({newAttachmentModal:!this.state.newAttachmentModal})}},{key:"_RefreshAttachments",value:function(){var e=this;A.a.get("/user-files/attachments/"+this.props.match.params.username).then((function(t){e.setState({attachments:t.data})})).catch((function(e){console.log(e.response),alert("Error - "+e.response.data.error)}))}},{key:"AddAttachment",value:function(e){var t=this,a=new FormData,n=document.querySelector("#file");a.append("file",n.files[0]);var r="";""!=e&&(r="/"+e),A.a.post("/user-files/attachment/"+this.props.match.params.username+r,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),t._RefreshAttachments(),t.setState({newAttachmentModal:!1})})).catch((function(e){console.log(e.response),alert("Error - "+e.response.data.error)}))}},{key:"DeleteAttachment",value:function(e){var t=this;A.a.delete("/user-files/attachment/"+e).then((function(e){console.log(e.data),t._RefreshAttachments()})).catch((function(e){console.log(e.response),alert("Error - "+e.response.data.error)}))}},{key:"render",value:function(){var e=this,t=this.state.attachments.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,r.a.createElement("a",{target:"_blank",href:"/user-files/attachment/"+t.id+"/get"},t.file_name)),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.upload_type),r.a.createElement("td",null," ",r.a.createElement(m.a,{color:"primary",onClick:e.DeleteAttachment.bind(e,t.id)},"X")))}));return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{color:"primary",onClick:this.toggleNewAttachmentModal.bind(this)},"Upload file"),r.a.createElement("a",{href:"/"},r.a.createElement(m.a,{color:"secondary"},"Home")),r.a.createElement("a",{href:"/users"},r.a.createElement(m.a,{color:"secondary"},"Users")),r.a.createElement("br",null),"Hi,  ",r.a.createElement("b",null,this.state.user.name," ",this.state.user.lastname),r.a.createElement("br",null),"Username: ",this.state.user.username,r.a.createElement("br",null),"Email: ",this.state.user.email,r.a.createElement(E.a,{isOpen:this.state.newAttachmentModal,toggle:this.toggleNewAttachmentModal.bind(this)},r.a.createElement(p.a,{toggle:this.toggleNewAttachmentModal.bind(this)},"Upload new file"),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(v.a,{for:"name"},"Choose File"),r.a.createElement(w.a,{type:"file",name:"file",id:"file"}))),r.a.createElement(U.a,null,r.a.createElement(m.a,{color:"primary",onClick:this.AddAttachment.bind(this,"")},"Upload File (FS)")," ",r.a.createElement(m.a,{color:"primary",onClick:this.AddAttachment.bind(this,"s3")},"Upload File (S3)")," ",r.a.createElement(m.a,{color:"secondary",onClick:this.toggleNewAttachmentModal.bind(this)},"Cancel"))),r.a.createElement(y.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Filename"),r.a.createElement("th",null,"Last Updated"),r.a.createElement("th",null," Upload Type"))),r.a.createElement("tbody",null,t.length?t:r.a.createElement("div",null,r.a.createElement("tr",null,r.a.createElement("td",{colspan:4},"No Attachments found!"))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(c.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",null,r.a.createElement("h1",null," Fileshare App"),r.a.createElement("a",{href:"/users"},r.a.createElement(m.a,{color:"secondary"},"Users")))}}),r.a.createElement(c.a,{path:"/users",component:k}),r.a.createElement(c.a,{path:"/user/:username/attachments",component:M}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.b477181a.chunk.js.map